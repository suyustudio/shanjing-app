# 山径APP - 录制模式 vs 跟走模式

## 核心区别

| 维度 | 录制模式（采集者） | 跟走模式（普通用户） |
|------|-------------------|---------------------|
| **目的** | 采集路线数据，完善信息 | 跟着走，不迷路 |
| **用户** | 领队/运营/资深用户 | 普通徒步者 |
| **数据精度** | 高（每秒1点） | 中（每5秒1点） |
| **数据量** | 大（完整轨迹+POI） | 小（仅自身轨迹） |
| **POI标记** | 频繁（路口/观景点/危险点） | 无（只记录起点终点） |
| **照片** | 多（每个POI拍照） | 少（用户自选） |
| **电量消耗** | 高 | 低 |

---

## 录制模式详细设计

### 使用场景
- 运营人员采集新路线
- 领队完善已有路线信息
- 资深用户贡献优质内容

### 功能特性

| 功能 | 说明 |
|------|------|
| **高精度记录** | GPS每秒1点，确保轨迹精准 |
| **POI快速标记** | 一键标记当前位置，选择类型 |
| **照片关联** | 拍照自动关联到当前POI |
| **语音备注** | 路口说明、注意事项语音记录 |
| **分段标记** | 平路/爬升/下降分段标注 |
| **离线保存** | 无网络也能完整记录，有网后上传 |

### POI类型（录制时可选）

```json
{
  "poi_types": [
    {"code": "start", "name": "起点", "icon": "flag"},
    {"code": "end", "name": "终点", "icon": "flag-checkered"},
    {"code": "junction", "name": "路口", "icon": "signpost"},
    {"code": "viewpoint", "name": "观景点", "icon": "camera"},
    {"code": "restroom", "name": "卫生间", "icon": "toilet"},
    {"code": "supply", "name": "补给点", "icon": "store"},
    {"code": "danger", "name": "危险点", "icon": "warning"},
    {"code": "rest", "name": "休息点", "icon": "bench"}
  ]
}
```

### 录制界面

```
┌─────────────────────────────┐
│  [返回]  录制中...    [暂停] │
├─────────────────────────────┤
│                             │
│      ┌─────────┐           │
│      │  地图   │           │
│      │  轨迹   │           │
│      │  (实时) │           │
│      └─────────┘           │
│                             │
├─────────────────────────────┤
│  已记录: 2.5km  用时: 45min │
│  POI: 5个  照片: 12张       │
├─────────────────────────────┤
│  [标记POI]  [拍照]  [语音]  │
│  [分段标记]  [结束录制]     │
└─────────────────────────────┘
```

---

## 跟走模式详细设计

### 使用场景
- 普通用户跟着路线走
- 只需要导航不迷路
- 记录自己的轨迹（可选）

### 功能特性

| 功能 | 说明 |
|------|------|
| **轨迹跟随** | 显示路线，匹配当前位置 |
| **轻量记录** | 每5秒1点，仅用于进度显示 |
| **不标记POI** | 只读已有POI，不新增 |
| **省电优化** | 智能采样，后台降频 |
| **一键结束** | 简单结束，生成个人记录 |

### 跟走界面（简化版）

```
┌─────────────────────────────┐
│  [返回]  九溪十八涧    [更多] │
├─────────────────────────────┤
│                             │
│      ┌─────────┐           │
│      │  地图   │           │
│      │  路线   │           │
│      │  ●当前  │           │
│      └─────────┘           │
│                             │
├─────────────────────────────┤
│  已走 2.5km  剩余 3.2km    │
│  下一个: 观景点 (500m)      │
├─────────────────────────────┤
│  [暂停]  [结束]  [拍照]    │
└─────────────────────────────┘
```

---

## 数据对比

| 数据项 | 录制模式 | 跟走模式 |
|--------|----------|----------|
| GPS频率 | 1秒 | 5秒 |
| 轨迹点密度 | 高 | 低 |
| POI标记 | 多（8+类型） | 无（只读） |
| 照片 | 每张POI都有 | 用户自选 |
| 语音 | 路口说明 | 无 |
| 分段信息 | 详细 | 无 |
| 单条数据大小 | 10-50MB | 1-5MB |

---

## 权限控制

| 用户类型 | 录制模式 | 跟走模式 |
|----------|----------|----------|
| 普通用户 | ❌ 不可录制 | ✅ 可以跟走 |
| 认证领队 | ✅ 可录制 | ✅ 可以跟走 |
| 运营人员 | ✅ 可录制 | ✅ 可以跟走 |

---

## 总结

| | 录制模式 | 跟走模式 |
|--|----------|----------|
| **目标** | 生产内容 | 消费内容 |
| **精度** | 高（专业采集） | 中（够用就行） |
| **体验** | 复杂（多工具） | 简单（一键跟走） |
| **电量** | 高消耗 | 低消耗 |

**MVP阶段**：先只做跟走模式，录制模式运营后台做。

后续开放给认证领队。