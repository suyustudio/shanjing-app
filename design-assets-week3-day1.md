# 山径APP - Week 3 Day 1 设计稿描述

> **文档版本**: v1.0  
> **制定日期**: 2026-02-28  
> **文档状态**: Week 3 Day 1 - P6 & P7  
> **内容**: 数据埋点 & 空状态/异常状态设计稿描述

---

## 1. 空状态设计稿

### 1.1 收藏页空状态

**场景**: 用户进入收藏页，但还没有收藏任何路线

**视觉描述**
```
┌─────────────────────────────────────┐
│  状态栏 (44px)                      │
├─────────────────────────────────────┤
│  导航栏                              │
│  ┌─────────────────────────────┐    │
│  │ ←  我的收藏                  │    │
│  └─────────────────────────────┘    │
├─────────────────────────────────────┤
│                                     │
│                                     │
│           ┌───────────┐             │
│           │           │             │
│           │   空盒子   │  ← 插画     │
│           │   图标    │   100x100px │
│           │           │   Primary-300│
│           └───────────┘             │
│                                     │
│         还没有收藏                   │  ← 标题
│         16px Medium                 │   18px Medium
│         Gray-900                    │   Gray-900
│                                     │
│    收藏喜欢的路线，随时查看          │  ← 说明
│         14px Regular                │   14px Regular
│         Gray-500                    │   Gray-500
│                                     │
│      ┌───────────────┐              │
│      │   去探索路线   │  ← 按钮      │
│      │               │   Primary-500│
│      └───────────────┘   圆角8px    │
│           140x44                   │
│                                     │
│                                     │
│                                     │
└─────────────────────────────────────┘
```

**设计规格**
- 背景色: White (#FFFFFF)
- 插画: 空盒子/收藏夹图标，100x100px，Primary-300 (#72C0B5)
- 标题: "还没有收藏"，18px，Medium，Gray-900，居中
- 说明: "收藏喜欢的路线，随时查看"，14px，Regular，Gray-500，居中
- 按钮: "去探索路线"
  - 尺寸: 140px × 44px
  - 背景: Primary-500 (#2D968A)
  - 文字: White，16px，Medium
  - 圆角: 8px
- 垂直居中，整体距顶部 120px

---

### 1.2 无网络状态

**场景**: 用户打开App或切换页面时，设备未连接网络

**视觉描述**
```
┌─────────────────────────────────────┐
│  状态栏 (44px)                      │
├─────────────────────────────────────┤
│  导航栏                              │
│  ┌─────────────────────────────┐    │
│  │ ←  首页                      │    │
│  └─────────────────────────────┘    │
├─────────────────────────────────────┤
│                                     │
│           ┌───────────┐             │
│           │           │             │
│           │   WiFi    │  ← 图标     │
│           │   断开    │   80x80px   │
│           │   图标    │   Gray-400  │
│           │           │             │
│           └───────────┘             │
│                                     │
│          网络未连接                  │  ← 标题
│         18px Medium                 │   18px Medium
│         Gray-900                    │   Gray-900
│                                     │
│      请检查网络设置后重试            │  ← 说明
│         14px Regular                │   14px Regular
│         Gray-500                    │   Gray-500
│                                     │
│   ┌───────────┐ ┌───────────┐       │
│   │ 检查设置   │ │ 重新加载   │  ← 按钮组
│   │           │ │           │   次: Gray-200
│   └───────────┘ └───────────┘   主: Primary-500
│      100x40        100x40          │
│                                     │
└─────────────────────────────────────┘
```

**设计规格**
- 背景色: Gray-50 (#F9FAFB)
- 图标: WiFi断开图标，80x80px，Gray-400 (#9CA3AF)
- 标题: "网络未连接"，18px，Medium，Gray-900
- 说明: "请检查网络设置后重试"，14px，Regular，Gray-500
- 按钮组:
  - 次按钮 "检查设置":
    - 尺寸: 100px × 40px
    - 背景: White
    - 边框: 1px Gray-200
    - 文字: Gray-700，14px，Medium
    - 圆角: 8px
  - 主按钮 "重新加载":
    - 尺寸: 100px × 40px
    - 背景: Primary-500
    - 文字: White，14px，Medium
    - 圆角: 8px
- 按钮间距: 12px

---

### 1.3 定位权限空状态

**场景**: 用户首次使用导航或路线推荐功能，未授权定位权限

**视觉描述**
```
┌─────────────────────────────────────┐
│  状态栏 (44px)                      │
├─────────────────────────────────────┤
│  导航栏                              │
│  ┌─────────────────────────────┐    │
│  │ ←  附近路线                  │    │
│  └─────────────────────────────┘    │
├─────────────────────────────────────┤
│                                     │
│           ┌───────────┐             │
│           │           │             │
│           │   定位    │  ← 图标     │
│           │   图标    │   80x80px   │
│           │           │   Primary-400│
│           └───────────┘             │
│                                     │
│         需要位置权限                 │  ← 标题
│         18px Medium                 │   18px Medium
│         Gray-900                    │   Gray-900
│                                     │
│   开启位置权限后，才能使用            │  ← 说明
│   导航和路线推荐功能                 │   14px Regular
│         14px Regular                │   Gray-500
│         Gray-500                    │   最多2行
│                                     │
│      ┌───────────────┐              │
│      │   开启权限     │  ← 按钮      │
│      │               │   Primary-500│
│      └───────────────┘   圆角8px    │
│           140x44                   │
│                                     │
│  你可以在系统设置中随时更改权限       │  ← 底部提示
│         12px Regular                │   12px Regular
│         Gray-400                    │   Gray-400
│                                     │
└─────────────────────────────────────┘
```

**设计规格**
- 背景色: White (#FFFFFF)
- 图标: 定位图标，80x80px，Primary-400 (#4FABA0)
- 标题: "需要位置权限"，18px，Medium，Gray-900
- 说明: "开启位置权限后，才能使用导航和路线推荐功能"，14px，Regular，Gray-500，最多2行
- 按钮: "开启权限"
  - 尺寸: 140px × 44px
  - 背景: Primary-500
  - 文字: White，16px，Medium
  - 圆角: 8px
- 底部提示: "你可以在系统设置中随时更改权限"，12px，Regular，Gray-400

---

## 2. 加载状态设计稿

### 2.1 首页骨架屏

**场景**: 首页首次加载，展示内容结构预览

**视觉描述**
```
┌─────────────────────────────────────┐
│  状态栏 (44px)                      │
├─────────────────────────────────────┤
│  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ │  ← 顶部标题区
│  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ │   高度44px
├─────────────────────────────────────┤
│                                     │
│  ┌─────────────────────────────┐    │
│  │▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│    │  ← Banner
│  │▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│    │   16:9比例
│  │▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│    │   圆角12px
│  └─────────────────────────────┘    │   shimmer动画
│                                     │
│  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓            │  ← 区块标题
│                                     │   宽度70%
│  ┌────────────┐  ┌────────────┐     │   高度20px
│  │▓▓▓▓▓▓▓▓▓▓▓▓│  │▓▓▓▓▓▓▓▓▓▓▓▓│     │  ← 路线卡片
│  │▓▓▓▓▓▓▓▓▓▓▓▓│  │▓▓▓▓▓▓▓▓▓▓▓▓│     │   2列布局
│  │▓▓▓▓▓▓▓▓▓▓▓▓│  │▓▓▓▓▓▓▓▓▓▓▓▓│     │   宽度calc(50%-8px)
│  │▓▓▓▓▓▓▓▓▓▓▓▓│  │▓▓▓▓▓▓▓▓▓▓▓▓│     │   图片区4:3
│  ├────────────┤  ├────────────┤     │   圆角8px
│  │▓▓▓▓▓▓▓▓▓▓▓▓│  │▓▓▓▓▓▓▓▓▓▓▓▓│     │
│  │▓▓▓▓▓▓      │  │▓▓▓▓▓▓      │     │  ← 卡片文字
│  └────────────┘  └────────────┘     │   标题宽度80%
│                                     │   副标题宽度50%
└─────────────────────────────────────┘
```

**设计规格**
- 背景色: White (#FFFFFF)
- 骨架屏元素背景: Gray-100 (#F3F4F6)
- 动画: Shimmer流光效果
  - 流光色: White 30%透明度
  - 动画时长: 1.5s
  - 循环: 无限循环
- Banner区域:
  - 比例: 16:9
  - 边距: 16px
  - 圆角: 12px
- 路线卡片:
  - 布局: 2列
  - 宽度: calc(50% - 8px)
  - 间距: 16px
  - 图片区: 4:3比例，圆角8px（上）
  - 文字区: 标题宽度80%（18px高），副标题宽度50%（14px高）

---

### 2.2 下拉刷新动画

**场景**: 用户在列表页下拉刷新

**视觉描述**
```
下拉过程:
┌─────────────────────────────────────┐
│         下拉刷新                    │  ← 初始状态
│           ↓                         │   箭头向下
│         释放刷新                    │  ← 下拉足够
│           ↑                         │   箭头向上
│         刷新中...                   │  ← 释放后
│           ⟳                         │   旋转指示器
│         Primary-500                 │   品牌色
└─────────────────────────────────────┘

刷新完成:
┌─────────────────────────────────────┐
│         ✓ 刷新成功                  │  ← 成功状态
│         14px Medium                 │   对勾图标
│         Success-500                 │   翠竹绿
└─────────────────────────────────────┘
```

**设计规格**
- 刷新区域高度: 60px
- 背景: White 或 Gray-50
- 图标:
  - 箭头: 20px，Gray-400，随下拉旋转
  - 指示器: 20px，Primary-500，旋转动画
  - 对勾: 20px，Success-500 (#4CAF50)
- 文字: 14px，Medium
  - 下拉中: Gray-500
  - 刷新中: Primary-500
  - 成功: Success-500
- 动画:
  - 箭头旋转: 随下拉距离0-180度
  - 指示器旋转: 360度/秒
  - 成功停留: 500ms后收起

---

### 2.3 加载更多动画

**场景**: 列表滚动到底部，加载更多数据

**视觉描述**
```
加载中:
┌─────────────────────────────────────┐
│                                     │
│  ┌─────────────────────────────┐    │
│  │  路线卡片内容                │    │
│  └─────────────────────────────┘    │
│                                     │
│         ⟳ 正在加载更多...           │  ← 底部加载
│                                     │   指示器20px
│                                     │   Primary-500
└─────────────────────────────────────┘

无更多数据:
┌─────────────────────────────────────┐
│                                     │
│  ┌─────────────────────────────┐    │
│  │  路线卡片内容                │    │
│  └─────────────────────────────┘    │
│                                     │
│    ———— 没有更多了 ————              │  ← 结束提示
│         12px Regular                │   12px
│         Gray-400                    │   Gray-400
│                                     │
└─────────────────────────────────────┘
```

**设计规格**
- 加载区域高度: 50px
- 背景: 透明
- 加载中:
  - 指示器: 20px，Primary-500
  - 文字: "正在加载更多..."，14px，Gray-500
- 无更多:
  - 分隔线: 1px Gray-200，左右间距40px
  - 文字: "没有更多了"，12px，Regular，Gray-400

---

## 3. 错误状态设计稿

### 3.1 网络错误状态

**场景**: 请求超时或连接失败

**视觉描述**
```
┌─────────────────────────────────────┐
│  状态栏 (44px)                      │
├─────────────────────────────────────┤
│  导航栏                              │
│  ┌─────────────────────────────┐    │
│  │ ←  首页                      │    │
│  └─────────────────────────────┘    │
├─────────────────────────────────────┤
│                                     │
│           ┌───────────┐             │
│           │           │             │
│           │   断开    │  ← 图标     │
│           │   链接    │   80x80px   │
│           │   图标    │   Warning-500│
│           │           │             │
│           └───────────┘             │
│                                     │
│         连接失败                     │  ← 标题
│         18px Medium                 │   18px Medium
│         Gray-900                    │   Gray-900
│                                     │
│    无法连接到服务器，请检查网络       │  ← 说明
│         14px Regular                │   14px Regular
│         Gray-500                    │   Gray-500
│                                     │
│      ┌───────────────┐              │
│      │   重新加载     │  ← 按钮      │
│      │               │   Primary-500│
│      └───────────────┘   圆角8px    │
│           140x44                   │
│                                     │
│         错误码: 504                  │  ← 错误码
│         12px Regular                │   12px
│         Gray-400                    │   Gray-400
│                                     │
└─────────────────────────────────────┘
```

**设计规格**
- 背景色: White (#FFFFFF)
- 图标: 断开链接图标，80x80px，Warning-500 (#FFC107)
- 标题: "连接失败"，18px，Medium，Gray-900
- 说明: "无法连接到服务器，请检查网络"，14px，Regular，Gray-500
- 按钮: "重新加载"
  - 尺寸: 140px × 44px
  - 背景: Primary-500
  - 文字: White，16px，Medium
  - 圆角: 8px
- 错误码: "错误码: 504"，12px，Regular，Gray-400

---

### 3.2 服务器错误状态

**场景**: 服务器500错误或维护中

**视觉描述**
```
┌─────────────────────────────────────┐
│  状态栏 (44px)                      │
├─────────────────────────────────────┤
│  导航栏                              │
│  ┌─────────────────────────────┐    │
│  │ ←  首页                      │    │
│  └─────────────────────────────┘    │
├─────────────────────────────────────┤
│                                     │
│           ┌───────────┐             │
│           │           │             │
│           │   服务器   │  ← 图标     │
│           │   图标    │   80x80px   │
│           │           │   Error-500 │
│           └───────────┘             │
│                                     │
│       服务暂时不可用                 │  ← 标题
│         18px Medium                 │   18px Medium
│         Gray-900                    │   Gray-900
│                                     │
│      服务器开小差了，请稍后再试       │  ← 说明
│         14px Regular                │   14px Regular
│         Gray-500                    │   Gray-500
│                                     │
│      ┌───────────────┐              │
│      │   重新加载     │  ← 按钮      │
│      │               │   Primary-500│
│      └───────────────┘   圆角8px    │
│           140x44                   │
│                                     │
│         错误码: 500                  │  ← 错误码
│         12px Regular                │   12px
│         Gray-400                    │   Gray-400
│                                     │
└─────────────────────────────────────┘
```

**设计规格**
- 背景色: White (#FFFFFF)
- 图标: 服务器图标，80x80px，Error-500 (#EF5350)
- 标题: "服务暂时不可用"，18px，Medium，Gray-900
- 说明: "服务器开小差了，请稍后再试"，14px，Regular，Gray-500
- 按钮: "重新加载"
  - 尺寸: 140px × 44px
  - 背景: Primary-500
  - 文字: White，16px，Medium
  - 圆角: 8px
- 错误码: "错误码: 500"，12px，Regular，Gray-400

---

### 3.3 404页面不存在

**场景**: 用户访问已删除或不存在的路线/页面

**视觉描述**
```
┌─────────────────────────────────────┐
│  状态栏 (44px)                      │
├─────────────────────────────────────┤
│  导航栏                              │
│  ┌─────────────────────────────┐    │
│  │ ←                           │    │
│  └─────────────────────────────┘    │
├─────────────────────────────────────┤
│                                     │
│                                     │
│           ┌───────────┐             │
│           │           │             │
│           │   地图    │  ← 图标     │
│           │   图标    │   100x100px │
│           │           │   Gray-400  │
│           └───────────┘             │
│                                     │
│            404                      │  ← 大号数字
│         48px Bold                   │   48px Bold
│         Gray-300                    │   Gray-300
│                                     │
│         页面不存在                   │  ← 标题
│         18px Medium                 │   18px Medium
│         Gray-900                    │   Gray-900
│                                     │
│    您访问的页面已删除或不存在        │  ← 说明
│         14px Regular                │   14px Regular
│         Gray-500                    │   Gray-500
│                                     │
│   ┌───────────┐ ┌───────────┐       │
│   │  返回首页  │ │ 返回上一页 │  ← 按钮组
│   │           │ │           │   次: Gray-200
│   └───────────┘ └───────────┘   主: Primary-500
│      100x40        100x40          │
│                                     │
│                                     │
└─────────────────────────────────────┘
```

**设计规格**
- 背景色: White (#FFFFFF)
- 图标: 地图/文件图标，100x100px，Gray-400
- 404数字: "404"，48px，Bold，Gray-300 (#D1D5DB)
- 标题: "页面不存在"，18px，Medium，Gray-900
- 说明: "您访问的页面已删除或不存在"，14px，Regular，Gray-500
- 按钮组:
  - 次按钮 "返回首页":
    - 尺寸: 100px × 40px
    - 背景: White
    - 边框: 1px Gray-200
    - 文字: Gray-700，14px，Medium
    - 圆角: 8px
  - 主按钮 "返回上一页":
    - 尺寸: 100px × 40px
    - 背景: Primary-500
    - 文字: White，14px，Medium
    - 圆角: 8px

---

## 4. 弱网提示设计稿

### 4.1 弱网提示条

**场景**: 网络较慢，已显示缓存内容

**视觉描述**
```
┌─────────────────────────────────────┐
│  状态栏 (44px)                      │
├─────────────────────────────────────┤
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│  ← 弱网提示条
│  ⚠ 当前网络较慢，已显示缓存内容  刷新 │   高度36px
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│   Warning-50背景
├─────────────────────────────────────┤   Warning-700文字
│  页面内容...                        │
│                                     │
└─────────────────────────────────────┘
```

**设计规格**
- 位置: 导航栏下方，固定
- 高度: 36px
- 背景: Warning-50 (#FFF8E1)
- 图标: 警告/信号弱图标，16px，Warning-500 (#FFC107)
- 文字: "当前网络较慢，已显示缓存内容"，14px，Regular，Warning-700
- 操作按钮: "刷新"，14px，Medium，Warning-700

---

### 4.2 离线模式状态栏

**场景**: 用户处于离线模式

**视觉描述**
```
┌─────────────────────────────────────┐
│  状态栏 (44px)                      │
├─────────────────────────────────────┤
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│  ← 离线状态栏
│           ✈ 离线模式               │   高度32px
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│   Info-50背景
├─────────────────────────────────────┤   Info-700文字
│  页面内容...                        │
│                                     │
└─────────────────────────────────────┘
```

**设计规格**
- 位置: 状态栏下方
- 高度: 32px
- 背景: Info-50 (#EEF7FF)
- 图标: 离线/飞机图标，14px，Info-500 (#3B9EFF)
- 文字: "离线模式"，13px，Medium，Info-700，居中

---

## 5. 埋点事件标注

### 5.1 页面浏览埋点

| 页面 | page_id | 触发时机 |
|------|---------|----------|
| 首页 | `home` | viewDidAppear |
| 路线列表 | `route_list` | viewDidAppear |
| 路线详情 | `route_detail` | viewDidAppear |
| 导航页 | `navigation` | viewDidAppear |
| 收藏页 | `favorite` | viewDidAppear |
| 离线包管理 | `offline_package` | viewDidAppear |
| 设置页 | `settings` | viewDidAppear |

### 5.2 空状态按钮埋点

| 空状态场景 | button_id | button_name |
|------------|-----------|-------------|
| 收藏为空 | `btn_explore_routes` | 去探索路线 |
| 记录为空 | `btn_start_record` | 开始记录 |
| 搜索为空 | `btn_view_recommend` | 查看推荐 |
| 离线包为空 | `btn_download_offline` | 去下载 |
| 无网络 | `btn_check_settings` | 检查设置 |
| 无网络 | `btn_reload` | 重新加载 |
| 无权限 | `btn_enable_permission` | 开启权限 |

### 5.3 错误状态按钮埋点

| 错误场景 | button_id | button_name |
|----------|-----------|-------------|
| 网络错误 | `btn_reload` | 重新加载 |
| 服务器错误 | `btn_reload` | 重新加载 |
| 404错误 | `btn_back_home` | 返回首页 |
| 404错误 | `btn_go_back` | 返回上一页 |

---

## 6. 设计Token汇总

### 6.1 空状态Token

```
/* 空状态 */
--empty-state-icon-size: 80px;
--empty-state-icon-size-large: 100px;
--empty-state-title-size: 18px;
--empty-state-desc-size: 14px;
--empty-state-title-color: var(--color-gray-900);
--empty-state-desc-color: var(--color-gray-500);
--empty-state-spacing: 16px;
--empty-state-button-width: 140px;
--empty-state-button-height: 44px;
```

### 6.2 骨架屏Token

```
/* 骨架屏 */
--skeleton-bg: var(--color-gray-100);
--skeleton-shimmer: rgba(255,255,255,0.3);
--skeleton-radius-sm: 4px;
--skeleton-radius-md: 8px;
--skeleton-radius-lg: 12px;
--skeleton-animation-duration: 1.5s;
```

### 6.3 错误状态Token

```
/* 错误状态 */
--error-state-icon-size: 80px;
--error-state-title-size: 18px;
--error-state-desc-size: 14px;
--error-state-code-size: 12px;
--error-state-icon-color-warning: var(--color-warning-500);
--error-state-icon-color-error: var(--color-error-500);
--error-state-title-color: var(--color-gray-900);
--error-state-desc-color: var(--color-gray-500);
--error-state-code-color: var(--color-gray-400);
```

### 6.4 提示条Token

```
/* 弱网提示条 */
--weak-network-bar-height: 36px;
--weak-network-bar-bg: var(--color-warning-50);
--weak-network-bar-text-color: var(--color-warning-700);

/* 离线状态栏 */
--offline-bar-height: 32px;
--offline-bar-bg: var(--color-info-50);
--offline-bar-text-color: var(--color-info-700);
```

---

## 7. 附录

### 7.1 图标资源清单

| 图标名称 | 文件名 | 尺寸 | 颜色 |
|----------|--------|------|------|
| empty-box | ic_empty_box.svg | 100px | Primary-300 |
| footprint | ic_footprint.svg | 100px | Primary-300 |
| search-empty | ic_search_empty.svg | 100px | Gray-400 |
| map-empty | ic_map_empty.svg | 100px | Primary-300 |
| wifi-off | ic_wifi_off.svg | 80px | Gray-400 |
| location-off | ic_location_off.svg | 80px | Primary-400 |
| link-off | ic_link_off.svg | 80px | Warning-500 |
| server-off | ic_server_off.svg | 80px | Error-500 |
| map-off | ic_map_off.svg | 100px | Gray-400 |

### 7.2 参考文档

- 数据埋点规范: data-tracking-spec-v1.0.md
- 空状态设计规范: empty-state-design-spec-v1.0.md
- 设计系统: design-system-v1.0.md

### 7.3 更新记录

| 版本 | 日期 | 更新内容 |
|------|------|----------|
| v1.0 | 2026-02-28 | 初版完成，包含空状态、加载状态、错误状态设计稿描述 |

---

> **"每一个状态都是与用户对话的机会"** - 山径APP设计理念
