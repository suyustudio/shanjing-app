# Flutter å‘ç°æ¨¡å— - è·¯çº¿åˆ—è¡¨é¡µè®¾è®¡

## é¡µé¢æ¦‚è§ˆ

| å±æ€§ | å€¼ |
|------|-----|
| é¡µé¢åç§° | è·¯çº¿åˆ—è¡¨é¡µï¼ˆå‘ç°é¡µï¼‰ |
| è·¯ç”± | `/discovery` |
| ç±»å‹ | åˆ—è¡¨é¡µ |

---

## é¡µé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” æœç´¢è·¯çº¿ã€ç›®çš„åœ°...        â”‚  â† æœç´¢æ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [å…¨éƒ¨] [å¾’æ­¥] [éª‘è¡Œ] [è‡ªé©¾]   â”‚  â† ç­›é€‰æ ‡ç­¾
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [å°é¢å›¾]                â”‚ â”‚
â”‚ â”‚ è·¯çº¿åç§°                â”‚ â”‚  â† è·¯çº¿å¡ç‰‡
â”‚ â”‚ â­ 4.8  |  12.5km  |  3h â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [å°é¢å›¾]                â”‚ â”‚
â”‚ â”‚ è·¯çº¿åç§°                â”‚ â”‚  â† è·¯çº¿å¡ç‰‡
â”‚ â”‚ â­ 4.6  |  8.2km  |  2h  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           ...               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ç»„ä»¶è¯´æ˜

### 1. æœç´¢æ 
- å ä½æ–‡å­—ï¼š"æœç´¢è·¯çº¿ã€ç›®çš„åœ°..."
- å·¦ä¾§æœç´¢å›¾æ ‡
- ç‚¹å‡»è·³è½¬æœç´¢é¡µ

### 2. ç­›é€‰æ ‡ç­¾
- æ¨ªå‘æ»šåŠ¨
- é»˜è®¤é€‰ä¸­"å…¨éƒ¨"
- æ ‡ç­¾ï¼šå…¨éƒ¨ã€å¾’æ­¥ã€éª‘è¡Œã€è‡ªé©¾ã€ç™»å±±ã€æ‘„å½±
- ç‚¹å‡»åˆ‡æ¢ç­›é€‰

### 3. è·¯çº¿å¡ç‰‡
- å°é¢å›¾ï¼ˆ16:9ï¼‰
- è·¯çº¿åç§°
- è¯„åˆ† + è·ç¦» + é¢„è®¡æ—¶é•¿
- ç‚¹å‡»è·³è½¬è·¯çº¿è¯¦æƒ…

---

## æç®€ä»£ç ç»“æ„

```dart
// discovery_page.dart
class DiscoveryPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Column(
        children: [
          SearchBar(),           // æœç´¢æ 
          FilterTags(),           // ç­›é€‰æ ‡ç­¾
          Expanded(
            child: RouteList(),   // è·¯çº¿åˆ—è¡¨
          ),
        ],
      ),
    );
  }
}
```

---

## æ•°æ®æ¥å£

```dart
// GET /api/routes
{
  "routes": [
    {
      "id": "route_001",
      "name": "è¥¿æ¹–ç¯æ¹–è·¯çº¿",
      "cover": "https://...",
      "rating": 4.8,
      "distance": 12.5,      // km
      "duration": 180,       // min
      "type": "éª‘è¡Œ"
    }
  ]
}
```

---

## åŠ è½½çŠ¶æ€è®¾è®¡

### éª¨æ¶å±

æ•°æ®åŠ è½½æ—¶æ˜¾ç¤ºéª¨æ¶å±å ä½ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â–‘â–‘â–‘ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚ â”‚  â† ç¬¬1è¡Œ
â”‚ â”‚ â–‘â–‘â–‘ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â–‘â–‘â–‘ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚ â”‚  â† ç¬¬2è¡Œ
â”‚ â”‚ â–‘â–‘â–‘ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â–‘â–‘â–‘ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚ â”‚  â† ç¬¬3è¡Œ
â”‚ â”‚ â–‘â–‘â–‘ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **3è¡Œå ä½**ï¼Œæ¯è¡Œæ¨¡æ‹Ÿè·¯çº¿å¡ç‰‡
- **æ¯è¡Œç»“æ„**ï¼šç¼©ç•¥å›¾å ä½(80Ã—60) + æ–‡å­—å ä½(æ ‡é¢˜+å‰¯æ ‡é¢˜)
- **ShimmeråŠ¨ç”»**ï¼šä»å·¦åˆ°å³çš„å…‰å½±æ‰«è¿‡æ•ˆæœ

### å®ç°

```dart
// skeleton_loader.dart
class RouteSkeletonLoader extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Shimmer.fromColors(
      baseColor: Colors.grey[300]!,
      highlightColor: Colors.grey[100]!,
      child: ListView.builder(
        itemCount: 3,
        itemBuilder: (_, __) => _SkeletonRow(),
      ),
    );
  }
}

class _SkeletonRow extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Padding(
      padding: EdgeInsets.all(16),
      child: Row(
        children: [
          Container(width: 80, height: 60, color: Colors.white), // ç¼©ç•¥å›¾
          SizedBox(width: 12),
          Expanded(
            child: Column(
              crossAxisAlignment: CrossAxisAlignment.start,
              children: [
                Container(width: double.infinity, height: 16, color: Colors.white),
                SizedBox(height: 8),
                Container(width: 120, height: 12, color: Colors.white),
              ],
            ),
          ),
        ],
      ),
    );
  }
}
```

---

## çŠ¶æ€ç®¡ç†

- å½“å‰é€‰ä¸­æ ‡ç­¾ç´¢å¼•
- è·¯çº¿åˆ—è¡¨æ•°æ®
- åŠ è½½çŠ¶æ€
- ä¸‹æ‹‰åˆ·æ–° / ä¸Šæ‹‰åŠ è½½æ›´å¤š

---

## ç©ºçŠ¶æ€è®¾è®¡

æœç´¢æ— ç»“æœæ—¶æ˜¾ç¤ºç©ºçŠ¶æ€ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚                             â”‚
â”‚          ğŸ”                 â”‚  â† æœç´¢å›¾æ ‡
â”‚                             â”‚
â”‚     æœªæ‰¾åˆ°ç›¸å…³è·¯çº¿           â”‚  â† ä¸»æ–‡æ¡ˆ
â”‚                             â”‚
â”‚    æ¢ä¸ªå…³é”®è¯è¯•è¯•            â”‚  â† å»ºè®®æ–‡æ¡ˆ
â”‚                             â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®ç°ä»£ç 

```dart
// empty_state.dart
class EmptyStateWidget extends StatelessWidget {
  final VoidCallback? onRetry;

  const EmptyStateWidget({Key? key, this.onRetry}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Center(
      child: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          Icon(
            Icons.search_off_outlined,
            size: 64,
            color: Colors.grey[400],
          ),
          const SizedBox(height: 16),
          Text(
            'æœªæ‰¾åˆ°ç›¸å…³è·¯çº¿',
            style: TextStyle(
              fontSize: 16,
              color: Colors.grey[600],
              fontWeight: FontWeight.w500,
            ),
          ),
          const SizedBox(height: 8),
          Text(
            'æ¢ä¸ªå…³é”®è¯è¯•è¯•',
            style: TextStyle(
              fontSize: 14,
              color: Colors.grey[400],
            ),
          ),
        ],
      ),
    );
  }
}
```

### ä½¿ç”¨æ–¹å¼

```dart
// åœ¨ RouteList ä¸­ä½¿ç”¨
RouteList() {
  if (routes.isEmpty && !isLoading) {
    return EmptyStateWidget();
  }
  // ... æ­£å¸¸åˆ—è¡¨
}
```
