# 山径APP - 路线数据详细设计

## 1. 核心问题

| 问题 | 说明 | 解决思路 |
|------|------|----------|
| **冷启动** | 没数据就没用户 | MVP阶段人工采集50条精品 |
| **数据质量** | 路线信息要准 | 标准化采集流程+审核机制 |
| **更新维护** | 路线会变 | 用户反馈+定期巡检 |
| **规模化** | 50条→5000条 | UGC+合作伙伴+爬虫 |

---

## 2. MVP阶段：50条精品路线

### 2.1 选线标准

| 维度 | 标准 | 权重 |
|------|------|------|
| **风景** | 有明确观景点，拍照出片 | ★★★★★ |
| **难度** | 休闲-轻度，5-15km | ★★★★★ |
| **安全** | 成熟路线，无危险路段 | ★★★★★ |
| **交通** | 公共交通可达，2小时内 | ★★★★☆ |
| **配套** | 有卫生间/补给点 | ★★★☆☆ |

### 2.2 首批城市

| 城市 | 路线数 | 原因 |
|------|--------|------|
| **杭州** | 15条 | 团队所在地，测试方便 |
| **上海** | 10条 | 用户量大，周边路线多 |
| **北京** | 10条 | 用户量大，山野资源丰富 |
| **成都** | 10条 | 户外氛围好，路线成熟 |
| **深圳** | 5条 | 年轻用户多，周末需求强 |

### 2.3 路线类型分布

| 类型 | 占比 | 示例 |
|------|------|------|
| 古道/人文 | 30% | 徽杭古道、径山古道 |
| 山水/瀑布 | 25% | 九溪十八涧、莫干山 |
| 森林/竹海 | 25% | 云栖竹径、安吉竹海 |
| 湖泊/湿地 | 15% | 千岛湖、西溪湿地 |
| 特殊时令 | 5% | 樱花、红叶、雪景 |

---

## 3. 路线数据模型

### 3.1 基础信息

```json
{
  "route_id": "hz_jiuxi_001",
  "name": "九溪十八涧",
  "name_en": "Nine Creeks",
  "city": "杭州",
  "district": "西湖区",
  
  "difficulty": "休闲",
  "distance_km": 8.5,
  "duration_min": 180,
  "elevation_gain_m": 120,
  
  "tags": ["亲子", "摄影", "瀑布", "夏季避暑"],
  "best_seasons": ["春季", "夏季"],
  
  "description": "杭州最美徒步路线之一...",
  "highlights": ["九溪烟树", "龙井茶园", "理安寺"],
  
  "cover_image": "hz_jiuxi_001_cover.jpg",
  "images": ["img1.jpg", "img2.jpg", "img3.jpg"],
  
  "created_at": "2026-02-01",
  "updated_at": "2026-02-20",
  "status": "published"
}
```

### 3.2 轨迹数据

```json
{
  "route_id": "hz_jiuxi_001",
  "format": "gpx",
  "points_count": 1250,
  
  "start": {
    "name": "九溪公交站",
    "location": [120.123, 30.456],
    "transport": "公交4路/318路"
  },
  
  "end": {
    "name": "龙井村",
    "location": [120.145, 30.478],
    "transport": "公交27路"
  },
  
  "track_file": "hz_jiuxi_001_track.gpx",
  "elevation_profile": "hz_jiuxi_001_elevation.json"
}
```

### 3.3 POI数据

```json
{
  "route_id": "hz_jiuxi_001",
  "pois": [
    {
      "poi_id": "p001",
      "type": "start",
      "name": "起点-九溪公交站",
      "location": [120.123, 30.456],
      "description": "公交4路/318路直达"
    },
    {
      "poi_id": "p002",
      "type": "viewpoint",
      "name": "九溪烟树",
      "location": [120.128, 30.461],
      "description": "最佳拍照点，秋季红叶最美",
      "photos": ["viewpoint_p002_1.jpg"]
    },
    {
      "poi_id": "p003",
      "type": "junction",
      "name": "三岔路口",
      "location": [120.132, 30.465],
      "description": "向左转往龙井，向右往杨梅岭",
      "instruction": "向左转，走石板路",
      "photos": ["junction_p003_1.jpg", "junction_p003_2.jpg"]
    },
    {
      "poi_id": "p004",
      "type": "restroom",
      "name": "理安寺卫生间",
      "location": [120.138, 30.470]
    },
    {
      "poi_id": "p005",
      "type": "supply",
      "name": "龙井村小卖部",
      "location": [120.145, 30.478],
      "description": "水、零食、茶叶"
    },
    {
      "poi_id": "p006",
      "type": "end",
      "name": "终点-龙井村",
      "location": [120.145, 30.478],
      "description": "可喝茶休息，公交27路返回"
    }
  ]
}
```

---

## 4. 数据采集流程

### 4.1 采集工具

| 工具 | 用途 |
|------|------|
| **两步路/六只脚** | 获取基础轨迹 |
| **GPS设备** | 精确采集 |
| **手机APP** | 现场记录POI |
| **相机** | 拍摄风景/路口照片 |

### 4.2 采集步骤

```
1. 路线筛选
   └─ 网上调研 → 确定候选路线

2. 实地踩线
   └─ 走完全程 → 记录轨迹 → 标记POI → 拍摄照片

3. 数据整理
   └─ 轨迹处理 → POI标注 → 照片筛选 → 文案撰写

4. 审核发布
   └─ 质量检查 → 内部测试 → 正式发布
```

### 4.3 采集标准

| 数据项 | 要求 |
|--------|------|
| 轨迹精度 | GPS精度<10m，无明显漂移 |
| 照片数量 | 至少5张（封面+风景+关键路口） |
| POI完整 | 起点/终点/关键路口/补给点/卫生间 |
| 文案质量 | 200字以上，有吸引力 |
| 信息准确 | 距离/时长/交通信息实测 |

---

## 5. 数据维护机制

### 5.1 用户反馈

| 反馈类型 | 处理方式 |
|----------|----------|
| 路线封闭 | 立即下架，寻找替代路线 |
| 信息错误 | 核实后更新 |
| 新增POI | 审核后添加 |
| 照片补充 | 优质照片采纳 |

### 5.2 定期巡检

| 频率 | 内容 |
|------|------|
| 每月 | 检查用户反馈，更新路线状态 |
| 每季 | 重点路线实地复查 |
| 每年 | 全量路线信息审核 |

---

## 6. 规模化路径

| 阶段 | 路线数 | 来源 |
|------|--------|------|
| MVP | 50条 | 人工采集 |
| M2 | 200条 | 人工+用户UGC |
| M3 | 1000条 | UGC+户外俱乐部合作 |
| M4 | 5000条 | UGC+政府数据+爬虫 |

---

路线数据详细设计完成，继续 **技术架构**？