# Design Review Report - 网络错误处理边界场景

**Review 对象**: Product Agent 产出的边界场景文档  
**Review 角度**: Design Agent - 设计可实现性、用户体验、一致性、完整性  
**Review 日期**: 2026-02-28  
**参考对象**: 从 Linear、Notion、Figma 的 error state 设计视角审视

---

## 总体评估

文档覆盖了核心网络错误场景，技术逻辑清晰。但从设计落地角度，存在**文案平淡化**、**视觉规范缺失**、**交互细节不足**三个主要问题。

---

## 一、设计可实现性评估

### ✅ 可落地项

| 项目 | 评估 | 说明 |
|------|------|------|
| 错误分类（超时/断网/弱网） | ✅ 清晰 | 三类场景区分明确，设计可对应三种状态 |
| 重试机制参数 | ✅ 可执行 | 指数退避策略技术清晰，但需设计 loading 状态 |
| 流程图 | ⚠️ 需补充 | 缺少 UI 层面的状态流转说明 |

### ⚠️ 需补充的设计规范

1. **Loading 状态设计**
   - 弱网场景「正在尝试恢复...」需要配套视觉反馈
   - 建议：骨架屏 vs Spinner vs 进度条的选择未明确

2. **Toast vs Modal vs Inline 的选用规则**
   - 当前文档未说明错误提示的呈现形式
   - 参考 Linear：网络错误用 inline banner，阻断性操作用 modal

3. **手动重试按钮的样式规范**
   - 「重新加载」按钮的优先级、位置、状态变化未定义

---

## 二、用户体验评估

### 文案问题（重点）

当前文案过于「技术化」，缺乏人味：

| 场景 | 当前文案 | 问题 | 优化建议 |
|------|----------|------|----------|
| 超时 | 连接超时，请稍后重试 | 像系统报错，没有解释 | 「连接有点慢，再试一次？」 |
| 断网 | 网络连接失败，请检查网络设置 | 命令式，用户感到被指责 | 「似乎断网了，检查一下网络？」 |
| 弱网 | 网络不稳定，正在尝试恢复... | 被动等待，无控制感 | 「网络不太稳，正在努力连接...」 |

**文案原则建议**：
- 承认问题（不是用户的错）
- 解释发生了什么（一句话）
- 给控制感（明确的下一步）

### 重试体验缺口

1. **重试过程中的反馈缺失**
   - 文档提到「自动重试3次」，但用户是否知道正在重试？
   - 建议：第2次重试时显示「正在重试（2/3）...」

2. **重试失败后的情绪处理**
   - 3次都失败后，用户挫败感较强
   - 建议：第三次失败时文案加一句「抱歉，还是不行」

---

## 三、一致性评估

### 与设计系统潜在冲突

假设 P8 遵循常规设计系统，以下需确认：

| 检查项 | 状态 | 建议 |
|--------|------|------|
| 错误提示颜色规范 | ⚠️ 未提及 | 需明确 error/warning/info 色值应用 |
| 图标使用 | ⚠️ 未提及 | 断网/超时/弱网是否用不同图标？ |
| 动画规范 | ⚠️ 未提及 | 弱网状态的 loading 动画时长、缓动函数 |
| 按钮样式 | ⚠️ 未提及 | 「重新加载」是 primary 还是 secondary button？ |

### 参考模式

- **Notion**: 弱网时显示「Offline」badge + 本地编辑继续可用
- **Figma**: 断网时顶部黄色 banner + 重试按钮
- **Linear**: 网络错误 inline 显示，不阻断当前操作

建议 P8 明确：网络错误是「阻断式」还是「非阻断式」？

---

## 四、完整性评估

### 未覆盖场景

| 场景 | 说明 | 建议 |
|------|------|------|
| 上传/下载中断 | 大文件传输中的网络波动 | 需补充断点续传设计 |
| WebSocket 断开 | 实时功能（如协作）的网络恢复 | 需补充重连状态设计 |
| 部分成功 | 批量操作中部分请求失败 | 需补充部分失败提示 |
| 网络恢复自动刷新 | 断网恢复后是否自动刷新数据？ | 需明确自动 vs 手动 |

### 边缘情况

1. **连续操作时的错误叠加**
   - 用户快速点击多个按钮，多个请求同时失败
   - 建议：错误提示去重，避免满屏 toast

2. **弱网下的表单提交**
   - 提交按钮 loading 状态 + 网络错误如何叠加？
   - 建议：明确按钮状态优先级

---

## 五、优化建议汇总

### 高优先级（必须补充）

1. **视觉规范**
   - 三种错误状态的视觉呈现形式（Toast/Banner/Modal）
   - 颜色、图标、按钮样式规范

2. **文案优化**
   - 采用更友好的对话式文案
   - 增加重试进度提示

3. **Loading 状态**
   - 弱网场景的视觉反馈设计

### 中优先级（建议补充）

4. **场景扩展**
   - 上传/下载中断处理
   - WebSocket 断开重连

5. **交互细节**
   - 错误提示自动消失时间
   - 网络恢复后的自动刷新策略

### 低优先级（可选）

6. **动效规范**
   - 错误出现/消失的过渡动画
   - 重试按钮的 loading 状态动效

---

## 六、给 Product Agent 的反馈

文档作为技术规范是合格的，但直接交给开发会有以下风险：

1. **设计师需要补大量细节**才能出图
2. **文案需要重写**才能上线
3. **部分场景遗漏**可能导致上线后补需求

建议 Product Agent 在后续边界场景文档中：
- 增加「用户感知」章节（用户看到什么、能做什么）
- 提供文案 tone & voice 示例
- 标注哪些部分需要设计补充

---

## 参考对象声明

本次 review 参考了以下产品的 error state 设计：
- **Linear**: 极简 inline error，不打扰
- **Notion**: 离线优先，本地编辑无缝
- **Figma**: 顶部 banner 模式，全局可见
- **Apple HIG**: 错误文案 tone & voice 指南

---

*Review by Design Agent*  
*参考视角: Linear × Notion × Figma 的 error state 设计*
